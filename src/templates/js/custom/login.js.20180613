function addPasswordRules(r){$("#"+r+" #password").rules("add",{required:!0,pattern:/^[^ ]+$/,rangelength:[6,30],messages:{required:"Please enter your Password",pattern:"Invalid password format.",rangelength:"Please enter 6 to 30 characters."}})}function getLoginResponse(r){if(0==validateSession(r))return!1;var o=$.parseJSON(r);if(0!=o.errorCode){addPasswordRules(login_form_id_for_response),$("#"+login_form_id_for_response+" #submit-btn").removeAttr("disabled"),$("#"+login_form_id_for_response+" #password").val("");var e="left";return"undefined"!=$("#"+login_form_id_for_response).attr("validation-style")&&void 0!=$("#"+login_form_id_for_response).attr("validation-style")&&(e=$("#"+login_form_id_for_response).attr("validation-style")),"bootstrap"==$("#"+login_form_id_for_response).attr("tooltip-mode")?showToolTipError(login_form_id_for_response+" #userName_email",o.respMsg,e,error_callback_login[login_form_id_for_response]):"manual"==$("#"+login_form_id_for_response).attr("tooltip-mode")&&showToolTipErrorManual(login_form_id_for_response+" #userName_email",o.respMsg,e,$("#userName_email"),error_callback_login[login_form_id_for_response]),!1}"add_cash"==$("#"+login_form_id_for_response).attr("from-title")&&(document.cookie="launchCashierAfterLogin=true"),"play_rummy"==$("#"+login_form_id_for_response).attr("from-title")&&(document.cookie="launchRummyAfterLogin=true"),"open_raf"==$("#"+login_form_id_for_response).attr("from-title")?location.href=o.path+"refer-a-friend":location.href=o.path}function topLoginBox(r,o){"left"==r&&($("div.tooltip#"+o.attr("aria-describedby")).addClass("error_"+o.attr("id")),$("div.tooltip#"+o.attr("aria-describedby")).css({top:"",left:"-"+$("div.tooltip#"+o.attr("aria-describedby")).css("width")}))}function login_inputGroupElement(r,o,e){"error"==e?o.parents(".input-group").length>0&&o.parents(".input-group").addClass("error"):"success"==e&&o.parents(".input-group").length>0&&o.parents(".input-group").removeClass("error")}var $=jQuery.noConflict(),login_form_id_for_response="",error_callback_login={};$(document).ready(function(){$($("form[id^='login-form']")).each(function(){var r=$(this).attr("id");error_callback_login[r]=$("#"+r).attr("error-callback"),$(this).validate({showErrors:function(o,e){var a="bottom";void 0==$("#"+r).attr("validation-style")?"ajax"==$("#"+r).attr("submit-type")&&(a="left"):a=$("#"+r).attr("validation-style"),"bootstrap"==$("#"+r).attr("tooltip-mode")?displayToolTip(this,o,e,a,error_callback_login[r]):"manual"==$("#"+r).attr("tooltip-mode")&&displayToolTipManual(this,o,e,a,error_callback_login[r])},submitHandler:function(){if("text"==$("#login-form-2  #password").attr("type")&&($("#login-form-2  #password").attr("type","password"),$("#login-form-2  #showPwd").attr("class","show_pa")),$("#"+r+" #password").rules("remove","rangelength"),$("#"+r+" #password").val(MD5(MD5($("#"+r+" #password").val())+loginToken)),$("#"+r+" #submit-btn").attr("disabled","disabled"),"ajax"!=$("#"+r).attr("submit-type"))$("#"+r+" #loginToken").val(loginToken),document.getElementById(r).submit();else{var o="userName_email="+$("#"+r+" #userName_email").val()+"&password="+$("#"+r+" #password").val()+"&loginToken="+loginToken;void 0!=$("#"+r+" #submiturl").val()&&(o+="&submiturl="+$("#"+r+" #submiturl").val()),login_form_id_for_response=r,startAjax("/component/weaver/?task=authorisation.playerLogin",o,getLoginResponse,"#"+r)}}}),$("#"+r+" #userName_email").rules("add",{required:!0,pattern:"^[a-zA-Z0-9@._]*$",messages:{required:"Please enter Username/Email",pattern:"Username has invalid pattern."}}),addPasswordRules(r)})});
